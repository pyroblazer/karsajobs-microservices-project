# Create a Kubernetes Deployment named 'karsajobs-ui' with two identifying labels, 'app: karsajobs' and 'type: frontend'.
# The Deployment configures replicas, each corresponding Pod will carry the labels 'app: karsajobs' and 'type: frontend'.
# The label 'type: frontend' serves as a selector in 'karsajobs-ui-service.yml'.
# Pods generated by this Deployment will consist of a single container.
# The container will utilize an image sourced from 'ghcr.io/pyroblazer/karsajobs-ui:latest', bearing the name 'karsajobs-ui-app'.
# This container will expose port 8000 to the host (pod) and map it to port 8000 within the container.
apiVersion: apps/v1
kind: Deployment
metadata:
  name: karsajobs-ui # Name of the deployment
  namespace: karsajobs-ns
  labels: # Labels attached to the deployment
    app: karsajobs
    type: frontend
spec:
  replicas: 3 # Adjust the number of replicas based on the required high availability
  selector: # Selector to identify the pods controlled by this deployment
    matchLabels:
      type: frontend
  template: # Template for creating the pods
    metadata:
      labels: # Labels for the pods created from this template
        app: karsajobs
        type: frontend
    spec:
      containers: # Definition of containers within the pod
        - name: karsajobs-ui-app # Name of the container
          image: ghcr.io/pyroblazer/karsajobs-ui:latest # Image used for the container
          ports: # Ports to be exposed by the container
            - containerPort: 8000 # Port exposed by the container